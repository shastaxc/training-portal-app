<ng-template
  #defaultTemplate
  let-weekEvent="weekEvent"
  let-tooltipPlacement="tooltipPlacement"
  let-eventClicked="eventClicked"
  let-tooltipTemplate="tooltipTemplate"
  let-tooltipAppendToBody="tooltipAppendToBody">
  <div
    class="cal-event"
    [style.backgroundColor]="weekEvent.event.color?.secondary"
    [style.borderColor]="weekEvent.event.color?.primary"
    [mwlCalendarTooltip]="weekEvent.event.title | calendarEventTitle:'weekTooltip':weekEvent.event"
    [tooltipPlacement]="tooltipPlacement"
    [tooltipEvent]="weekEvent.event"
    [tooltipTemplate]="tooltipTemplate"
    [tooltipAppendToBody]="tooltipAppendToBody">
    <mwl-calendar-event-actions [event]="weekEvent.event"></mwl-calendar-event-actions>
    &ngsp;
    <mwl-calendar-event-title
      [event]="weekEvent.event"
      [customTemplate]="eventTitleTemplate"
      view="week"
      (mwlClick)="eventClicked.emit()">
    </mwl-calendar-event-title>
  </div>
</ng-template>

<ng-template
  [ngTemplateOutlet]="customTemplate || defaultTemplate"
  [ngTemplateOutletContext]="{
    weekEvent: weekEvent,
    tooltipPlacement: tooltipPlacement,
    eventClicked: eventClicked,
    tooltipTemplate: tooltipTemplate,
    tooltipAppendToBody: tooltipAppendToBody
    }">
</ng-template>
